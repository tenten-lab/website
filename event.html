<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>特殊イベント</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Zen+Dots&display=swap" rel="stylesheet">
  <style>
    /* ===== 背景：和首頁統一 ===== */
    body {
      margin: 0;
      padding: 0;
      font-family: "Noto Serif JP", serif;
      min-height: 100vh;
      background: url('都市伝説巡り.png') no-repeat center center fixed;
      background-size: cover;
      color: #f5e6e6;
    }

    /* 手機可以換成手機版背景圖 */
    @media (max-width: 768px) {
      body {
        background-image: url('都市伝説巡り-手機版.png'); /* 沒有這張就先用同一張也行 */
        background-position: center top;
      }
    }

    /* ===== 頂部發光標題（跟首頁一樣風格） ===== */
    .hero-header {
      position: fixed;
      top: 24px;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: center;
      z-index: 20;
      pointer-events: none;
    }

    .title-wrap {
      pointer-events: auto;
      background: radial-gradient(circle at 50% 0,
                  rgba(255,0,0,0.2),
                  rgba(0,0,0,0.9) 60%,
                  rgba(0,0,0,0.98) 100%);
      padding: 10px 32px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,100,120,0.7);
      box-shadow:
          0 0 18px rgba(255,0,0,0.7),
          0 0 40px rgba(0,0,0,0.95);
      backdrop-filter: blur(3px);
      text-align: center;
    }

    .title-main {
      font-size: 26px;
      color: #ffe6e6;
      font-weight: 900;
      letter-spacing: 3px;
      text-shadow:
        0 0 8px rgba(255,80,80,0.9),
        0 0 18px rgba(0,0,0,1);
    }

    .title-sub {
      display: block;
      margin-top: 3px;
      font-size: 13px;
      color: #ffcccc;
      letter-spacing: 2px;
    }

    @media (max-width: 768px) {
      .title-wrap {
        padding: 8px 22px 10px;
      }
      .title-main {
        font-size: 20px;
        letter-spacing: 2px;
      }
      .title-sub {
        font-size: 11px;
        letter-spacing: 1px;
      }
    }

    /* === 事件指令強化樣式 === */
  .cmd-line {
  display: block;
  margin-top: 6px;
  font-weight: 700;
  color: #ff4040;                 /* 紅色 */
  text-shadow:
    0 0 6px rgba(255,70,70,0.9),
    0 0 12px rgba(120,0,0,0.8);
  letter-spacing: 0.08em;
   }

    /* ===== 主內容：中間一塊半透明區放 17 格卡片 ===== */
    .page-inner {
        padding: 150px 16px 40px;
        max-width: 1200px;   /* 🆕 拉寬 */
        margin: 0 auto;
    }

    .gallery-wrap {
      background: radial-gradient(circle at 20% 0,
                  rgba(255,255,255,0.12),
                  rgba(15,0,0,0.90) 60%,
                  rgba(0,0,0,0.97) 100%);
      border-radius: 18px;
      box-shadow:
        0 12px 30px rgba(0,0,0,0.8),
        0 0 16px rgba(255,120,150,0.35);
      border: 1px solid rgba(255,160,190,0.6);
      padding: 24px 18px 26px;
      backdrop-filter: blur(4px);
    }

    .gallery-title {
      text-align: center;
      margin: 0 0 14px;
      font-size: 18px;
      color: #ffe6e6;
      letter-spacing: 1px;
    }

    .gallery-subtitle {
      text-align: center;
      margin: 0 0 16px;
      font-size: 13px;
      color: #ffced6;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 16px;
      justify-items: center;
    }

    .gallery img {
      width: 100%;
      max-width: 140px;
      cursor: pointer;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.7);
      opacity: 0;
      transform: translateY(50px) rotate(8deg);
      animation: shuffleIn 1s forwards;
      background: #000;
    }

    .gallery img:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 6px 16px rgba(0,0,0,0.9);
    }

    @keyframes shuffleIn {
      0% { opacity: 0; transform: translateY(50px) rotate(10deg); }
      100% { opacity: 1; transform: translateY(0) rotate(0); }
    }

    /* 手機版排成 3 欄 */
    @media (max-width: 768px) {
      .page-inner {
        padding: 130px 12px 28px;
      }
      .gallery-wrap {
        padding: 18px 10px 20px;
      }
      .gallery {
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
      }
      .gallery img {
        max-width: 110px;
      }
    }

    /* ===== Modal：抽到事件後的小視窗 ===== */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 20px;
      box-sizing: border-box;
    }

    .modal-content {
      background: radial-gradient(circle at 0 0,
                  rgba(255,255,255,0.14),
                  #140007 55%,
                  #050002 100%);
      width: 80%;
      max-width: 820px;
      border-radius: 14px;
      overflow: hidden;
      display: flex;
      flex-direction: row;
      box-shadow: 0 8px 30px rgba(0,0,0,0.9);
      max-height: 90vh;
      box-sizing: border-box;
      border: 1px solid rgba(255,160,190,0.7);
    }

    .modal-content img {
      width: 50%;
      height: auto;
      object-fit: cover;
      flex-shrink: 0;
    }

    .modal-text {
      padding: 18px 18px 16px;
      width: 50%;
      font-size: 16px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      gap: 10px;
      box-sizing: border-box;
      color: #ffecec;
      overflow-y: auto;
    }

    .modal-text p {
      margin: 0 0 8px;
      line-height: 1.6;
      /* 日文＋中文區分用 */
    .zh-line {
      display: block;
      margin-top: 4px;
      font-size: 14px;
      color: #ffbfcf;
      font-style: italic;
     }

    .zh-line small {
    font-size: 12px;
     }
    }

    /* Modal 內的回首頁按鈕 */
    .home-btn {
      margin-top: 12px;
      background: linear-gradient(135deg, #ffb5d0, #ff8aa8);
      color: #3e0010;
      border: none;
      padding: 10px 18px;
      border-radius: 999px;
      font-size: 15px;
      cursor: pointer;
      align-self: flex-end;
      transition: transform 0.16s, box-shadow 0.16s;
      box-shadow: 0 3px 10px rgba(0,0,0,0.8);
      font-weight: 700;
    }
    .home-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 5px 14px rgba(0,0,0,0.9);
    }

    /* 手機：Modal 直式 */
    @media (max-width: 768px) {
      .modal-content {
        flex-direction: column;
        width: 92%;
        max-width: 560px;
        max-height: 92vh;
      }
      .modal-content img,
      .modal-text {
        width: 100%;
      }
      .modal-text {
        font-size: 15px;
      }
      .home-btn {
        align-self: center;
        margin-bottom: 6px;
      }
    }

    /* 右下角全頁共通回首頁 FAB（如果不要可以刪掉這段和下面的 <a>） */
    .home-fab {
      position: fixed;
      right: 20px;
      bottom: 20px;
      background: #ffb5b5;
      color: #600030;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.8);
      z-index: 30;
      text-decoration: none;
    }
    .home-fab:hover {
      background: #ff9797;
    }

    @media (max-width: 768px) {
      .home-fab {
        width: 50px;
        height: 50px;
        font-size: 22px;
        right: 14px;
        bottom: 14px;
      }
    }
  </style>
</head>
<body>

<!-- 頂部標題 -->
<header class="hero-header">
  <div class="title-wrap">
    <span class="title-main">特殊イベント</span>
    <span class="title-sub">特殊イベント − 不意に訪れる怪異 −</span>
  </div>
</header>

<div class="page-inner">
  <div class="gallery-wrap">
    <p class="gallery-title">どんな怪異が待っている…？</p>
    <p class="gallery-subtitle">任意の札を選ぶと、その裏に潜む特殊イベントが発動する。</p>

    <div class="gallery" id="gallery">
      <!-- 圖片容器：由 JS 產生 -->
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="modal-content">
    <img id="modal-img" src="" alt="Event">
    <div class="modal-text">
      <div id="modal-text"></div>
      <button class="home-btn" onclick="goHome()">🏠戻る</button>
    </div>
  </div>
</div>

<!-- 右下角回首頁 FAB（可保留或刪除） -->
<a href="index.html" class="home-fab">🏠</a>

<script>
  // 17 個事件文字（可含 HTML 樣式）
  const eventTexts = [

  // 1. ターボばあちゃん
  "ターボばあちゃん：高速道路を走っていると、ターボばあちゃんに出会う。<br>" +
  "<span class='zh-line'>（經過高速公路，遇到高速婆婆。）</span>" +
  "<span class='cmd-line'>▶ 目的地に一番近い角まで移動する</span>" +
  "<span class='cmd-line'>▶（一起衝到接近目的地的角落）</span>",

  // 2. 花子さん
  "花子さん：急にお腹を壊してトイレに駆け込むと、そこには花子さんがいて閉じ込められてしまう。<br>" +
   "<span class='zh-line'>（突然拉肚子跑進廁所，卻遇到花子，被困在那裡。）</span>" +
  "<span class='cmd-line'>▶ 1ターン休み</span>" +
  "<span class='cmd-line'>▶（停止遊玩1回合）</span>",

  // 3. テケテケ
  "テケテケ：電車に乗ろうとした途中、線路付近でテケテケに襲われる。<br>" +
   "<span class='zh-line'>（去搭電車的過程中，突然被鐵道附近的テケテケ攻擊。）</span>" +
  "<span class='cmd-line'>▶ 体力 −3</span>" +
  "<span class='cmd-line'>▶（體力 −3）</span>",

  // 4. 八尺様
  "八尺様：田舎道を歩いていると「ポポポポ……」という足音が響き、見上げると八尺様がいる！<br>" +
   "<span class='zh-line'>（經過鄉間小道，聽見啵啵啵的腳步聲， 抬頭一看竟遇到了8尺大人。）</span>" +
  "<span class='cmd-line'>▶ もう一度サイコロを振る</span>" +
  "<span class='cmd-line'>▶（再骰1次骰子）</span>",

  // 5. 人面犬
  "人面犬：車で高速道路を走っていると、前方に人面犬が現れる。<br>" +
    "<span class='zh-line'>（開著車行駛在高速公路上，發現前面竟然是人面犬。）</span>" +
  "<span class='cmd-line'>▶ 彼に導かれ、目的地に一番近い角まで移動する</span>" +
  "<span class='cmd-line'>▶（請他帶著你一起衝到最接近目的地的角落）</span>",

  // 6. 妃姫子
  "妃姫子：雨の日、急いで帰る途中に妃姫子に出会う。ふざけて彼女の持つ人形を奪おうとしたが、<br>" +
   "<span class='zh-line'>（下雨天急著回家的你，竟然在路上遇見妃姬子，貪玩想搶走他手上的娃娃，）</span>" +
  "<span class='cmd-line'>▶ その正体に驚き、手持ちの道具カードを1枚失う。</span>" +
  "<span class='cmd-line'>▶（卻被娃娃的真面目嚇了一大跳，收回手上1張道具卡。）</span>",

  // 7. 雪女
  "雪女：森で吹雪に遭い、小屋に避難したところ、雪女が窓から舞い込んでくる。彼女の美しい姿に惹かれる。<br>" +
  "<span class='zh-line'>（在森林中遇到暴風雪，躲進小木屋，剛好遇見雪女從屋外飛了進來，被他貌美的外表所吸引。）</span>" +
  "<span class='cmd-line'>▶ 道具カードを2枚獲得する</span>" +
  "<span class='cmd-line'>▶（獲得2張道具卡）</span>",

  // 8. 隙間女
  "隙間女：1人暮らしの部屋で、ふと「気のせいかな……」と思った瞬間、後ろを振り向くと隙間から目がこちらをじっと見ている。<br>" +
   "<span class='zh-line'>（過著獨居生活的你，非常神經質地想著「是心理作用吧……」沒想到你一轉頭，卻看到一雙眼睛在盯著你看。）</span>" +
  "<span class='cmd-line'>▶ ランダムなプレイヤーを1人選び、共に霊圧を2点減少する</span>" +
  "<span class='cmd-line'>▶（隨機選擇一位玩家一起靈壓-2）</span>",

  // 9. くねくね
  "くねくね：好奇心旺盛で、望遠鏡で遠くを覗く。視界にくねくねが現れ、恐怖のあまり尻もちをついて声も出せない。<br>" +
   "<span class='zh-line'>（好奇心爆表的年紀，拿著望遠鏡看向遠方，在你的視線中卻出現扭來扭去，被嚇得跌坐在地，一句話也說不出來。）</span>" +
  "<span class='cmd-line'>▶ 手持ちの道具カードを1枚失う</span>" +
  "<span class='cmd-line'>▶（收回手上1張道具卡）</span>",

  // 10. 赤いマント
  "赤いマント：授業をサボろうとトイレに隠れていると、背後から低い声で「赤いマントが欲しいか？」と囁かれる。驚いて声も出せずに飛び出し、授業に戻る。<br>" +
    "<span class='zh-line'>（上課時間，想翹課的你逃進了廁所，忽然背後傳來低沉的聲音：「要紅色的斗篷嘛？」嚇得你我不敢發聲衝出廁所乖乖回去上課。）</span>" +
  "<span class='cmd-line'>▶ もう一度サイコロを振る</span>" +
  "<span class='cmd-line'>▶（再骰1次骰子）</span>",

  // 11. カシマさん
  "カシマさん：授業中に水を飲みすぎてトイレでカシマさんに遭遇した。次々と質問をされる。<br>" +
   "<span class='zh-line'>（上課時，因為喝太多水跑去上廁所，沒想到遇到鹿島零子，被她一直問問題。）</span>" +
  "<span class='cmd-line'>▶ 幸い無事に答えて難を逃れ、道具カード2枚を得る</span>" +
  "<span class='cmd-line'>▶（幸好都順利回答出來，逃過一劫，獲得2張道具卡）</span>",

  // 12. ヨジババア
  "ヨジババア：午後4時に放課後となったが、校内でヨジババアに遭遇した。<br>" +
   "<span class='zh-line'>（下午四點放學了，卻在校園裡遇到一位身份不明的老婆婆。）</span>" +
  "<span class='cmd-line'>▶問いかける前に襲われ、霊圧を2点減少する</span>" +
  "<span class='cmd-line'>▶（你還沒開口詢問就被她攻擊了，靈壓-2）</span>",

  // 13. 鮫島事件
  "鮫島事件：目が覚めると、自分と友人が鮫島へ探検に来ていたが、思いがけず鮫島に閉じ込められてしまった。<br>" + 
  "<span class='zh-line'>（一覺醒來，發現自己和朋友前往鮫島探險，卻意外被困在鮫島。）</span>" +
  "<span class='cmd-line'>▶ 1ターン休み</span>" +
  "<span class='cmd-line'>▶（停止遊玩1回合）</span>",

  // 14. さとるくん
  "さとるくん：公衆電話ボックスで「さとるくんに電話すれば心の疑問が解ける」と書かれた小さな紙切れを見つけた。10円を投入して、公衆電話から電話をかけ、無事に心の謎を解くことができた。<br>" +
    "<span class='zh-line'>（你在公共電話亭中，看到一張小紙條「打給悟君就能解開你心中的任何疑」，而你也拿起10元投進的公共電話中，順利解開心中謎題。）</span>" +
  "<span class='cmd-line'>▶ 体力 +2、霊圧 +2</span>" +
  "<span class='cmd-line'>▶（體力 +2，靈壓 +2）</span>",

  // 15. 首なしライダー
  "首なしライダー：誰もいない夜の街道を歩いていると、1台のバイクが轟音を立てて通り過ぎた。振り向くと、なんと首なしライダーだった。自分が疲れて幻を見ているのかと思った。<br>" +
   "<span class='zh-line'>（走在空無一人的夜晚街道上，出現一台摩托車呼嘯而過，轉頭一看，竟然是沒有頭的騎士，心想是不是自己太累眼花撩亂了。）</span>" +
  "<span class='cmd-line'>▶ 霊圧 −2</span>" +
  "<span class='cmd-line'>▶（靈壓 −2）</span>",

  // 16. 赤いクレヨン
  "赤いクレヨン：廊下を歩いていると、遠くの床に赤いクレヨンが落ちているのを見つけた。拾ってゴミ箱に捨てたのに、翌日には同じ場所にまた赤いクレヨンが現れた。<br>" +
    "<span class='zh-line'>（在走廊上，就看見遠方地上有一枝紅色蠟筆，你把他撿起來後丟進垃圾桶，沒想到隔一天那枝紅色蠟筆又出現在走廊上的同一個位置）</span>" +
  "<span class='cmd-line'>▶ 霊圧 +2</span>" +
  "<span class='cmd-line'>▶（靈壓 +2）</span>",

  // 17. マリーさんの電話
  "マリーさんの電話：引っ越しの時、古い人形「マリー」を捨てました。その夜、携帯電話が突然鳴り、電話の向こうから低い声が聞こえてきた。「私、マリー……今、あなたの後ろにいるよ。」<br>" +
   "<span class='zh-line'>（搬家時，你丟掉了舊洋娃娃「瑪麗」。當天深夜，手機突然響起，電話裡傳來低沉的聲音： 「我是瑪麗……現在在你的背後。」）</span>" +
  "<span class='cmd-line'>▶ 霊圧 −1</span>" +
  "<span class='cmd-line'>▶（靈壓 −1）</span>"

];


  // 打亂順序
  const shuffledTexts = eventTexts.sort(() => Math.random() - 0.5);

  // 產生 17 張牌
  const gallery = document.getElementById('gallery');
  for (let i = 0; i < 17; i++) {
    const img = document.createElement('img');
    img.src = 'ipendo.png';  // 你原本用的那一張牌面圖
    img.alt = `Event ${i + 1}`;
    img.style.animationDelay = `${i * 0.08}s`;
    img.onclick = () => openModal(img.src, shuffledTexts[i]);
    gallery.appendChild(img);
  }

  function openModal(imgSrc, htmlText) {
    const modal = document.getElementById('modal');
    document.getElementById('modal-img').src = imgSrc;
    document.getElementById('modal-text').innerHTML = htmlText; // 允許 HTML
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden'; // 開啟時鎖捲動
  }

  function closeModal() {
    const modal = document.getElementById('modal');
    modal.style.display = 'none';
    document.body.style.overflow = '';
  }

  function goHome() {
    // 直接回首頁
    window.location.href = 'event.html';
  }

  // 如果想點黑幕關閉 modal，可以加這段
  document.getElementById('modal').addEventListener('click', (e) => {
    if (e.target.id === 'modal') {
      closeModal();
    }
  });
</script>
</body>
</html>
